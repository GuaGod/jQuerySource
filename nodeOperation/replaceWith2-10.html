<!doctype html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<title>DOM操作</title>
</head>
<body>

<button id="test1">模拟replaceWith处理</button>


<div class="container">
  <div class="inner first">Hello</div>
  <div class="inner second">And</div>
  <div class="inner third">Goodbye</div>
</div>


<script type="text/javascript">

  //$('div.second').replaceWith('<h2>New heading</h2>');


$('#test1').click(function(){
    var elem=document.querySelectorAll('div.second')[0];
    var div =document.createElement('div');
    div.innerHTML='replaceWith处理';
    elem.parentNode.relaceChild(div,elem);
})
{
    replaceWith:function(){
        var arg=arguments[0];
        this.domManip(arguments,function(elem){
            arg=this.parentNode;
            jQuery.cleanData(getAll(this));
            if(arg){
                arg.replaceChild(elem,this);
            }
        });
        return arg&&(arg.length||arg.nodeType)?this:this.remove();
    }
}

</script>

</body>
</html>